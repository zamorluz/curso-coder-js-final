/*! curso-coder: version 0.1.0 -  2023-10-05 02:52:23 */
const getQuerySelector=e=>{if("html"==e.tagName.toLowerCase())return"HTML";let t=e.tagName;if(t+=""!=e.id?"#"+e.id:"",e.className){var r=e.className.split(/\s/);for(let e=0;e<r.length;e++)t+="."+r[e]}return getQuerySelector(e.parentNode)+" > "+t},getId=(e,t,r=!1)=>(isNull(t)||(r||empty(e.getAttribute("id")))&&(e.id=t),e.getAttribute("id")),sleep=t=>new Promise(e=>setTimeout(e,t)),functionExists=e=>"function"==typeof window[e],isSet=e=>void 0!==e,empty=e=>!isSet(e),isNull=e=>null===e,getBrowser=()=>{var e=window.innerWidth<=768?"(Mobile)":"(Desktop)",t=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),r="undefined"!=typeof InstallTrigger,o=isSet(window.safari)&&isSet(window.safari.pushNotification),n=!!document.documentMode,i=!n&&!!window.StyleMedia,a=isSet(window.chrome),t=t?"Opera":null;return(null==(t=a&&-1!=navigator.userAgent.indexOf("Edg")?"EdgeChromium":a?"Chrome":i?"Edge":n?"IE":o?"Safari":r?"Firefox":t)?"WebView":t)+" "+e},isArray=e=>Array.isArray(e),isObject=e=>"object"==typeof e,inArray=(e,t)=>!!isArray(t)&&t.includes(e),getTimeString=e=>{let t="",r=e/864e5,o=e%864e5/36e5,n=e%36e5/6e4,i=e%6e4/1e3,a=0<r?Math.floor(r):0,s=0<o?Math.floor(o):0,_=0<n?Math.floor(n):0,c=0<i?Math.floor(i):0;return 0!=a&&(t+=a+"d "),(0<a||0<s)&&(t+=(s<10?"0"+s:s)+"h "),(0<a||0<s||0<_)&&(t+=(_<10?"0"+_:_)+"m "),t+=(c<10?"0"+c:c)+"s"},getFullDate=(e="-")=>{var t=new Date,r=t.getFullYear(),o=t.getMonth()+1,n=t.getDate(),i=t.getHours(),a=t.getMinutes(),t=t.getSeconds();return""+r+e+(o<10?"0":"")+o+e+(n<10?"0":"")+n+` ${i<10?"0":""}${i}:${a<10?"0":""}${a}:`+(t<10?"0":"")+t},number_format=(e,t,r=".",o=",")=>{e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var e=isFinite(+e)?+e:0,t=isFinite(+t)?Math.abs(t):0,o=void 0===o?",":o,r=void 0===r?".":r,n="";return 3<(n=(t?function(e,t){t=Math.pow(10,t);return""+Math.round(e*t)/t}(e,t):""+Math.round(e)).split("."))[0].length&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(n[1]||"").length<t&&(n[1]=n[1]||"",n[1]+=new Array(t-n[1].length+1).join("0")),n.join(r)},urlB64ToUint8Array=e=>{var e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),t=window.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r},sprintf=e=>{const t=Array.prototype.slice.call(arguments,1);let r=0;return e.replace(/%s/g,function(){return t[r++]})},isString=e=>"string"==typeof e||e instanceof String,isJsonString=e=>{try{JSON.parse(e)}catch(e){return!1}return!0},boolText=e=>"true"===e||"1"===e||1===e||!0===e||"on"===e,prependElement=(e,t)=>document.querySelector(e).insertAdjacentHTML("beforebegin",t),prepend=(e,t)=>document.querySelector(e).insertAdjacentHTML("afterbegin",t),append=(e,t)=>document.querySelector(e).insertAdjacentHTML("beforeend",t),appendElement=(e,t)=>document.querySelector(e).insertAdjacentHTML("afterend",t),__eventListenerAdd=(e,t,r)=>{e.addEventListener(t,r)},__eventListenerRemove=(e,t,r)=>{e.removeEventListener(t,r)},__eventListener=(e,t,r)=>{e=isObject(e)?e:document.querySelectorAll(e);if(0!=e.length)for(var[o,n]of Object.entries(e))__report("event listener added: "+getQuerySelector(n),"set","event-listener"),__eventListenerRemove(n,t,r),__eventListenerAdd(n,t,r)},eventToElement=e=>e.srcElement,eventToData=e=>{return eventToElement(e).dataset},_NOTIFICATIONS_HTML_ID="notifications",_NOTIFICATION_TIMEOUT=5e3,_NOTIFICATIONS_TYPE_SUCCESS="success",_NOTIFICATIONS_TYPE_FAILURE="danger";let notificationCount=0;const __notify=(e,t=_NOTIFICATIONS_TYPE_SUCCESS)=>{var r=document.getElementById(_NOTIFICATIONS_HTML_ID);isNull(r)&&(append("body",`<div id='${_NOTIFICATIONS_HTML_ID}' class="fixed-bottom w-100"></div>`),document.getElementById(_NOTIFICATIONS_HTML_ID));const o="notification-"+ ++notificationCount,n=(append("#"+_NOTIFICATIONS_HTML_ID,`<div id='${o}' class="notification text-center rounded m-3 text-light p-2 fs-5 bg-${t}">${e}</div>`),document.getElementById(o));empty(window.timeouts)&&(window.timeouts={}),window.timeouts["notification-"+o]=setTimeout(function(){n.remove(),clearTimeout(window.timeouts["notification-"+o])},_NOTIFICATION_TIMEOUT),__eventListener("#"+o,"click",()=>{n.remove(),clearTimeout(window.timeouts["notification-"+o])})},__report=(e,t,r=0)=>{},__cookieSet=(e,t,r=365)=>{var o=new Date;return o.setTime(o.getTime()+24*r*3600*1e3),document.cookie=e+"="+t+";expires="+o.toUTCString()+";path=/",__cookieGet(e)},__cookieGet=r=>{r+="=";var o=decodeURIComponent(document.cookie).split(";");for(let t=0;t<o.length;t++){let e=o[t];for(;" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(r))return e.substring(r.length,e.length)}},__cookie=(e,t=null,r=365)=>null!==t?__cookieSet(e,t,r):__cookieGet(e),__localStorageSet=(e,t)=>null===t||(localStorage.setItem(e,t),__localStorageGet(e)),__localStorageGet=e=>localStorage.getItem(e),__localStorageRemove=e=>(localStorage.removeItem(e),null===__localStorageGet(e)),__localStorageClear=()=>{localStorage.clear()},__localStorage=(e,t=null,r=!1)=>r?__localStorageRemove(e):null!==t?__localStorageSet(e,t):__localStorageGet(e),__sessionStorageSet=(e,t)=>(sessionStorage.setItem(e,JSON.stringify(t)),__sessionStorageGet(e)),__sessionStorageGet=e=>JSON.parse(sessionStorage.getItem(e)),__sessionStorageRemove=e=>(sessionStorage.removeItem(e),null===__sessionStorageGet(e)),__sessionStorageClear=()=>{sessionStorage.clear()},__sessionStorage=(e,t=null,r=!1)=>r?__sessionStorageRemove(e):null!==t?__sessionStorageSet(e,t):__sessionStorageGet(e),_SESSION_INDEX_CART="cart",_CART_BUTTON_CLASS=".cart-add",_CART_TYPE_INDEX_PRODUCTS="product",cartInit=()=>{cartEventListeners(),cartButtonUpdateFromCart(),cartModalUpdate()},cartEventListeners=()=>{__eventListener(_CART_BUTTON_CLASS,"click",cartAdd)},cartAdd=e=>{var t=eventToData(e),r=cartDeepCheck();return r[t.type].push(t),cartSet(r),__notify("Item added to cart",_NOTIFICATIONS_TYPE_SUCCESS),cartButtonUpdate(eventToElement(e)),cartModalUpdate(),cartDeepCheck()},cartButtonUpdateFromCart=()=>{for(var[e,t]of Object.entries(document.querySelectorAll(_CART_BUTTON_CLASS))){var r=t.dataset;cartItemExists(r.type,r.cod)&&cartButtonUpdate(t)}},cartItemExists=(e,t)=>{var r,o,n={};for([r,o]of Object.entries(cartDeepCheck()))for(var[i,a]of Object.entries(o))empty(n[a.type])&&(n[a.type]={}),empty(n[a.type][a.cod])&&(n[a.type][a.cod]=!0);return isSet(n[e])&&isSet(n[e][t])},cartButtonUpdate=e=>{e.innerHTML="Ir al carrito",__eventListener(e,"click",()=>{window.location.href="/pages/carrito.html"})},cartSet=e=>__sessionStorage(_SESSION_INDEX_CART,e),cartDeepCheck=()=>{var e,t,r=isNull(__sessionStorage(_SESSION_INDEX_CART))||!isObject(__sessionStorage(_SESSION_INDEX_CART))?cartSet({}):__sessionStorage(_SESSION_INDEX_CART),o=(empty(r[_CART_TYPE_INDEX_PRODUCTS])&&(r[_CART_TYPE_INDEX_PRODUCTS]=[]),{}),n={};for([e,t]of Object.entries(r)){empty(n[e])&&(n[e]=[]);for(var[i,a]of Object.entries(t))empty(o[a.type])&&(o[a.type]={}),empty(o[a.type][a.cod])&&(o[a.type][a.cod]=!0,n[e].push(a))}return cartSet(n)},cartModalUpdate=()=>{let e="",t=0;var r,o,n,i;cartDeepCheck();for([r,o]of Object.entries(cartDeepCheck()))for(var[a,s]of Object.entries(o))e+=`<div class="row border-1 border-primary border rounded">
                    <div class="col-3">
                        <div class="imagen-producto" style="background-image:url(${s.image})"></div>
                    </div>
                    <div class="col-6 fs-4">
                        ${s.title}
                    </div>
                    <div class="col-3 fs-5 currency-convert" data-price="${s.price}">
                        ${s.price} USD
                    </div>
                </div>`,t+=parseFloat(s.price);e+='<select class="currency-select w-100">';for([n,i]of Object.entries(_CURRENCY_LIST))e+=`<option value="${n}">${i}</option>`;e+="</select>",document.getElementById("cart-modal-items").innerHTML=e,document.getElementById("cart-modal-total").innerHTML=t+" USD",__currenciesEventListeners()},_CURRENCY_ARS="ARS",_CURRENCY_USD="USD",_CURRENCY_COOKIE_INDEX="cookie",_CURRENCY_SELECT_CLASS=".currency-select",_CURRENCY_CONVERT_CLASS=".currency-convert",_CURRENCY_LIST={USD:"USD",ARS:"ARS"},__currenciesGetARSUSD=async()=>{const e=new Date,t=e.getTime(),r=t-36e5;let o=__sessionStorage(__currenciesGetARSUSD.name),n=new Date,i=isNull(o);for(i||(n.setTime(o.updated_at),i=r>n.getTime()),i&&(await fetch("https://api.bluelytics.com.ar/v2/latest")).json().then(e=>{__sessionStorage(__currenciesGetARSUSD.name,{value:e.blue.value_sell,updated_at:t})});isNull(__sessionStorage(__currenciesGetARSUSD.name));)await sleep(1);return __sessionStorage(__currenciesGetARSUSD.name)},__currenciesGet=()=>(__currenciesGetARSUSD(),{ARS:__sessionStorage(__currenciesGetARSUSD.name).value,USD:1}),__currenciesGetValue=e=>{e={to:e,from:_CURRENCY_USD};return console.log(e),fx.rates=__currenciesGet(),fx.convert(1,e)},__currenciesSelect=e=>{var e=eventToElement(e),t=__currenciesGet(),e=e.value.toString().toUpperCase();empty(t[e])?__notify("Moneda invÃ¡lida",_NOTIFICATIONS_TYPE_FAILURE):(__cookie(_CURRENCY_COOKIE_INDEX,e),__currenciesConvert())},__currenciesEventListeners=()=>{__eventListener(_CURRENCY_SELECT_CLASS,"change",__currenciesSelect)},__currenciesConvert=()=>{let e=__cookie(_CURRENCY_COOKIE_INDEX);void 0===e&&(__cookie(_CURRENCY_COOKIE_INDEX,_CURRENCY_USD),e=__cookie(_CURRENCY_COOKIE_INDEX));for(var[t,r]of Object.entries(document.querySelectorAll(_CURRENCY_CONVERT_CLASS)))r.innerHTML=r.dataset.price*__currenciesGetValue(e)+" "+e},currenciesInit=()=>{__currenciesConvert()};window.onload=e=>{cartInit(),currenciesInit()};